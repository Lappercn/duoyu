# 多智能体股票投顾系统 (Multi-Agent Stock Advisor) - 系统需求文档 (SRD)

## 1. 项目背景与目标
本系统旨在利用豆包大模型（Doubao LLM）构建一个多智能体协作的股票投资顾问MVP。通过模拟“顾问+买方+卖方+主持人”的专业投研团队辩论模式，为普通投资者提供透明、可解释的投资决策建议。
**核心目标**：在2天内完成开发并上线，验证多智能体辩论在金融投顾场景的有效性。

## 2. 核心角色定义 (Agents)
系统包含四个核心智能体角色：

### 2.1 顾问智能体 (Consultant Agent)
- **职责**：数据预处理与实时信息检索。
- **核心能力**：调用大模型联网插件 (Web Search)，检索最新新闻、财报、宏观政策及盘面核心指标（价格、成交量、PE等）。
- **输出**：包含实时资讯的标准化分析底座。

### 2.2 买方智能体 (Bull Agent / 多头)
- **人设**：乐观的激进投资者。
- **职责**：寻找买入理由（盈利潜力、估值优势）。

### 2.3 卖方智能体 (Bear Agent / 空头)
- **人设**：保守的风险控制官。
- **职责**：寻找卖出/风险点（估值泡沫、资金流出）。

### 2.4 主持人智能体 (Host Agent)
- **人设**：资深投资顾问。
- **职责**：控场辩论、总结陈词、最终决策。

## 3. 功能需求

### 3.1 用户端 (Frontend) - 沉浸式体验
**核心设计理念**：采用类似**“狼人杀”游戏的沉浸式舞台风格**，而非传统的聊天窗口。

1.  **投资配置页 (Entry)**：
    -   极简输入：股票代码（必填）、风险偏好（选填）、补充线索（选填）。
    -   启动特效：点击分析后，进入“虚拟会议室”场景。

2.  **虚拟会议室 (The Stage)**：
    -   **角色入场机制**：
        -   分析开始时，各智能体角色（3D形象）依次入场（淡入/滑入/特效出现）。
        -   入场时播放“打招呼”动画（如点头、挥手）。
    -   **辩论可视化**：
        -   **发言状态 (Speaking)**：当前发言的智能体高亮/放大，播放“发言”动画（口型/手势），同时展示气泡文字。
        -   **聆听状态 (Listening)**：其他智能体变暗或缩小，播放“待机/聆听”动画。
        -   **主持人控场**：主持人位于中心或显著位置，引导流程。
    -   **实时情报板**：屏幕一侧悬浮展示顾问检索到的核心数据（股价、K线趋势描述、关键新闻）。

3.  **最终报告页 (Verdict)**：
    -   **决断时刻**：所有智能体视线聚焦，主持人宣读最终建议（Buy/Sell/Hold）。
    -   **核心理由卡片**：展示 Top 3 理由与风险提示。
    -   **资讯回溯**：点击理由可跳转查看原始新闻来源。

### 3.2 管理端/配置 (Config)
-   **.env配置**：支持配置 Prompt 及模型参数。
-   **资源管理**：前端需预留目录结构以加载用户提供的 3D 动画素材。

## 4. 非功能需求
-   **视觉冲击力**：界面需具备高品质的 UI 设计，动画流畅（60fps），避免卡顿。
-   **资源加载**：优化 3D/动画素材的加载策略（预加载/懒加载），避免白屏。
-   **响应速度**：在联网分析的等待期（5-10s），需通过角色动画（如“查阅资料中”）安抚用户等待焦虑。
